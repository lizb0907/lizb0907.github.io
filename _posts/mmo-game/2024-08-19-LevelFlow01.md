---
layout: post
title: 进一步优化关卡AI流程01
categories: Mmo-Game
description: 进一步优化关卡AI流程01
keywords: 进一步优化关卡AI流程01
---

进一步优化关卡AI流程01

**目录**

* TOC
{:toc}

## 一：老的方式存在问题

```sh
之前的一个版本基本流程上是： 

            trigger ---> action
策划配置一个个trigger, 然后trigger执行action。

但是很致命的是在代码里将事件和条件都写到了一个trigger里，随着trigger类型的不断增加，
但有些事件或条件又是重复的，由于硬编码导致tirgger里写了很多重复性代码。
```

## 二：新的优化解耦事件和条件

```sh
1. 将事件与条件单独拆分出来，并可重复性利用。
2. 只有一个tirgger, 但trigger上可以动态选择事件和条件， 当事件和条件同时满足时，执行对应的action。

事件类型举例:
   1. 角色死亡
   2. 对话结束
   3. 怪物死亡
   4. 怪物出生
   5. 角色离开场景
   ...

条件举例：
   1. 总是为真
   2. 判断场景变量数值
   3. 判断目标身上是否存在某个buff
   4. 判断怪物血量
   ...

动作举例:
   1. 播放timeline
   2. 传送
   3. 移除buff
   ...

日常的开发，就是铺事件、条件、动作类型即可。
```








