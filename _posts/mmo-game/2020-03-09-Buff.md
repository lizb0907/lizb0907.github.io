---
layout: post
title: buff系统
categories: Mmo-Game
description: buff系统
keywords: bufff，fightModule
---

战斗系统重构后-buff系统学习记录

**目录**

* TOC
{:toc}

## 表分析

### 1.由于之前的buff表列数过多，将buff表拆分

#### 1.buff基础表SkillImpactBase 主要是条件，类似如下：

```sh
1.死后是否保留该效果（0否、1是）

2.是否增益效果
    0：其他
    1：增益类
    2：负面类

3.跨场景是否消失（0否、1是）

4.下线是否消失（0否、1是）

5.开始移动时是否消失（0否、1是）

各种一大堆条件
```

#### 2.SkillImpactParam参数表，由于特定效果的参数列非常多，故单独拆分出一张表:

```sh
状态影响效果产生的几率也是配在这里。
```

## 向目标发送一个效果,主要用于非技能模块的效果发送

### 1.计算派发概率

#### 1.无成长

```sh
1.无成长的，直接表里配置概率（根据状态state是否大于0判断）

2.所有的非技能模块都是无成长的，例如：
   药品使用加buff
   任何奖励
   称号

3.注意目前陷阱派发走的是技能派发。
```

#### 2.有成长

