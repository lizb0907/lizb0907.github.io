---
layout: post
title: JVM调优使用工具
categories: Jvm
description: JVM调优使用工具
keywords: JVM,TOOls
---

JVM调优使用工具

**目录**

* TOC
{:toc}

## JDK内置工具

### 1.分类

```sh
大体分为：
    1.监控类工具：jps, jstat
    2.故障排查工具:
      jinfo, jmap, jstack, jcmd,
      jhat, jhsdb
    3.可视化工具:jconsole,visualvm,jhsdb
```

### 2.jps主要监控进程

```sh
参考文档：
  java 8 ：https://docs.oracle.com/javase/8/docs/technotes/tools/unix/jps.html

使用说明:
  1. 直接键入 jps  //显示java进程
  2. jps -m       //显示传入main方法参数
  3. jps -ml      //显示传入main方法参数，同时显示启动类包名
  4. jps -v       //显示传递给jvm的参数

jps 命令有点类似 ps -ef | grep java 命令，
但 jps 命令显示的格式更友好。 

jps还可以查看远程服务器的jvm进程信息，需要一些配置，使用rmi协议
        jps -l remote.domain //端口1099
        jps -l rmi://remote.comain:1231
```

### 3.jstat监控jvm各种运行状态

![](/images/posts/jvm/jvm-tools/1.png)

如同，红色框内就是列标题，很重要！

```sh
参考文档：
  java 8 : https://docs.oracle.com/javase/8/docs/technotes/tools/unix/jstat.html

使用说明:
  格式：jstat [ generalOption | outputOptions vmid [ interval[s|ms] [ count ] ]

  generalOption可选参数如下：
    1.class       //显示类加载器的统计信息
    2.compiler    //显示有关jvm即时编译器行为的统计信息
    3.gc          //显示有关垃圾收集堆行为的统计信息
    4.gccause     //显示引起垃圾收集事件的原因
    ...

  outputOptions:
    1.-t           //将时间戳显示为输出的第一列
    2.-hn          //n为第几次，表示n次采样后输出一次列标题

  vmid：           //进程的唯一标识

  interval：       //间隔多长时间输出1次

  count:           //输出多少次后退出

例子：
  jstat -gc -t -h3 26000 1000 10
  每隔1000毫秒输出一次gc统计信息，输出10次退出，同时将时间戳显示为输出的第一列，每3次
  采样后输出一次列标题。
```
