---
layout: post
title: java基础
categories: Java
description: 日常当中遇到的java知识点积累
keywords: Java,Base
---

日常当中遇到的java知识点积累



**目录**

* TOC
{:toc}

## java反射

### 1.getMethod()不能调用私有方法

```java
public class ReflectTest {

    static class User
    {
        private String name;
        private int agge;
        private String getName()
        {
            return name;
        }
        private void setName(String name)
        {
            this.name = name;
        }
        private int getAge()
        {
            return agge;
        }
    }

    public static void main(String[] args) throws Exception
    {
        User user = new User();
        user.setName("小菜");

        //只能调用公共方法
        Method[] methods = User.class.getMethods();
        for (Method method : methods)
        {
            if ("getName".equals(method.getName()))
            {
                System.out.println(method.invoke(user));
            }
            else if ("setName".equals(method.getName()))
            {
                //调用setName方法设置名字为"大鸟"
                method.invoke(user, "大鸟");
                System.out.println(user.getName());
            }
        }
    }
}
```
上面代码，User类全是私有方法，那么User.class.getMethods()时不会报错，但是获取不到方法，所以遍历没有输出

```java
public class ReflectTest {

    static class User
    {
        private String name;
        private int age;
        public String getName()
        {
            return name;
        }
        public void setName(String name)
        {
            this.name = name;
        }
        public int getAge()
        {
            return age;
        }
    }

    public static void main(String[] args) throws Exception
    {
        User user = new User();
        user.setName("小菜");

        //只能调用公共方法
        Method[] methods = User.class.getMethods();
        for (Method method : methods)
        {
            if ("getName".equals(method.getName()))
            {
                //调用getName()方法，无参不用传
                System.out.println(method.invoke(user));
            }
            else if ("setName".equals(method.getName()))
            {
                //调用setName方法设置名字为"大鸟",并且必须传入参数，否则报错
                method.invoke(user, "大鸟");
                System.out.println(user.getName());
            }
        }

    }
}
```
将私有改为公共方法，可以获取到，如果方法method带有参数，那么metho.invoke()第一个参数为对象，然后method有几个参数，就在对象后面传多少个参数，不然报错。
java里的反射并不是只能获取值，还可以动态的给某个方法赋值。
输出：小菜  大鸟

### 2.getDeclaredMethod()


### 3.getParameterTypes()
